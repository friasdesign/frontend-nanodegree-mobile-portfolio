var PizzaResizer=function(){function e(){function e(e){var n="randomPizzaContainer",r=n+"--large",a=n+"--small";switch(e){case"1":return function(e){var n=e.classList;n.remove(r),n.add(a)};case"2":return function(e){var n=e.classList;n.remove(r),n.remove(a)};case"3":return function(e){var n=e.classList;n.remove(a),n.add(r)};default:console.log("bug in sizeSwitcher")}}function n(e){var n=document.getElementById("pizzaSize");switch(e){case"1":return void(n.innerHTML="Small");case"2":return void(n.innerHTML="Medium");case"3":return void(n.innerHTML="Large");default:console.log("bug in changeSliderLabel")}}document.getElementById("randomPizzas");return{changePizzaSizes:function(r){var a=document.getElementsByClassName("randomPizzaContainer"),t=e(r);n(r);for(var i=0,o=a.length;i<o;i+=1)t(a[i])}}}var n;return{getInstance:function(){return n||(n=e()),n}}}(),Mover=function(){function e(){function e(e){for(var n=e.length,r=0,a=n-1;a>n-11;a--)r+=e[a].duration;console.log("Average scripting time to generate last 10 frames: "+r/10+"ms")}var n=0,r=[];return{updatePositions:function(){var a=document.body.scrollTop/1250;n++,window.performance.mark("mark_start_frame");for(var t=0,i=r.length;t<i;t+=1){var o=Math.sin(a+t%5);r[t].style.left=r[t].basicLeft+100*o+"px"}if(window.performance.mark("mark_end_frame"),window.performance.measure("measure_frame_duration","mark_start_frame","mark_end_frame"),n%10===0){var s=window.performance.getEntriesByName("measure_frame_duration");e(s)}},initialLoad:function(){for(var e,n=8,a=256,t=Math.round(window.screen.height/a),i=t*n,o=0;o<i;o++)e=document.createElement("img"),e.className="mover",e.src="images/misc/pizza.png",e.style.height="100px",e.style.width="73.333px",e.basicLeft=o%n*a,e.style.top=Math.floor(o/n)*a+"px",document.getElementById("movingPizzas1").appendChild(e),r.push(e);requestAnimationFrame(this.updatePositions)}}}var n;return{getInstance:function(){return n?n:e()}}}();window.addEventListener("load",function(){var e=Mover.getInstance(),n=document.getElementById("sizeSlider"),r=PizzaResizer.getInstance(),a=window.performance;n.addEventListener("change",function(e){var n=e.target.value;a.mark("mark_start_resize"),r.changePizzaSizes(n),a.mark("mark_end_resize"),a.measure("measure_pizza_resize","mark_start_resize","mark_end_resize");var t=a.getEntriesByName("measure_pizza_resize");console.log("Time to resize pizzas: "+t[t.length-1].duration+"ms")}),e.initialLoad(),window.addEventListener("scroll",function(){requestAnimationFrame(e.updatePositions)})});