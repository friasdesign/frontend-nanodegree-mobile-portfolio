var PizzaResizer=function(){function e(){function e(e){var r="randomPizzaContainer",n=r+"--large",a=r+"--small";switch(e){case"1":return function(e){var r=e.classList;r.remove(n),r.add(a)};case"2":return function(e){var r=e.classList;r.remove(n),r.remove(a)};case"3":return function(e){var r=e.classList;r.remove(a),r.add(n)};default:console.log("bug in sizeSwitcher")}}function r(e){var r=document.querySelector("#pizzaSize");switch(e){case"1":return void(r.innerHTML="Small");case"2":return void(r.innerHTML="Medium");case"3":return void(r.innerHTML="Large");default:console.log("bug in changeSliderLabel")}}document.querySelector("#randomPizzas");return{changePizzaSizes:function(n){var a=document.querySelectorAll(".randomPizzaContainer"),t=e(n);r(n);for(var i=0,o=a.length;i<o;i+=1)t(a[i])}}}var r;return{getInstance:function(){return r||(r=e()),r}}}(),Mover=function(){function e(){function e(e){for(var r=e.length,n=0,a=r-1;a>r-11;a--)n+=e[a].duration;console.log("Average scripting time to generate last 10 frames: "+n/10+"ms")}var r=0,n=[];return{updatePositions:function(){var a=document.body.scrollTop/1250;r++,window.performance.mark("mark_start_frame");for(var t=0,i=n.length;t<i;t+=1){var o=Math.sin(a+t%5);n[t].style.left=n[t].basicLeft+100*o+"px"}if(window.performance.mark("mark_end_frame"),window.performance.measure("measure_frame_duration","mark_start_frame","mark_end_frame"),r%10===0){var s=window.performance.getEntriesByName("measure_frame_duration");e(s)}},initialLoad:function(){for(var e=8,r=256,a=0;a<200;a++){var t=document.createElement("img");t.className="mover",t.src="images/misc/pizza.png",t.style.height="100px",t.style.width="73.333px",t.basicLeft=a%e*r,t.style.top=Math.floor(a/e)*r+"px",document.querySelector("#movingPizzas1").appendChild(t),n.push(t)}requestAnimationFrame(this.updatePositions)}}}var r;return{getInstance:function(){return r?r:e()}}}();window.addEventListener("load",function(){var e=Mover.getInstance(),r=document.getElementById("sizeSlider"),n=PizzaResizer.getInstance(),a=window.performance;r.addEventListener("change",function(e){var r=e.target.value;a.mark("mark_start_resize"),n.changePizzaSizes(r),a.mark("mark_end_resize"),a.measure("measure_pizza_resize","mark_start_resize","mark_end_resize");var t=a.getEntriesByName("measure_pizza_resize");console.log("Time to resize pizzas: "+t[t.length-1].duration+"ms")}),e.initialLoad(),window.addEventListener("scroll",function(){requestAnimationFrame(e.updatePositions)})});